(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],{11:function(t,e,n){t.exports=n(27)},17:function(t,e,n){},27:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(9),s=n.n(c),o=n(4),u=n(2),i=n.n(u),l=n(3),p=n(1),m=(n(17),n(10)),f=n.n(m),d=function(t){var e=t.loading,n=t.onLoadData;return r.a.createElement("button",{type:"button",disabled:e,onClick:n},e?"Loading":"Load")},b=function(t){var e=t.comment;return r.a.createElement("li",{key:e.id},e.name," - ",e.body," - ",e.email)},j=function(t){var e=t.preparedPost;return r.a.createElement("li",{key:e.post.id},e.post.title," - ",e.post.body," - ",e.user.name," ",e.user.email," ",e.user.address.city,r.a.createElement("ul",null,e.comments.map((function(t){return r.a.createElement(b,{key:t.id,comment:t})}))))},y=function(){var t=Object(a.useState)(!1),e=Object(p.a)(t,2),n=e[0],c=e[1],s=Object(a.useState)(!1),u=Object(p.a)(s,2),m=u[0],b=u[1],y=Object(a.useState)([]),h=Object(p.a)(y,2),O=h[0],E=h[1],v=Object(a.useState)([]),g=Object(p.a)(v,2),k=g[0],x=g[1],S=Object(a.useState)([]),w=Object(p.a)(S,2),_=w[0],L=w[1],P=Object(a.useState)([]),C=Object(p.a)(P,2),D=C[0],I=C[1],J=Object(a.useState)(""),B=Object(p.a)(J,2),F=B[0],q=B[1],z=function(){var t=Object(l.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e).then((function(t){return t.json()}));case 2:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=Object(a.useCallback)(f()(q,1e3),[]),G=function(){var t=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(!0),t.t0=Promise,t.t1=E,t.next=5,z("https://mate-academy.github.io/react_dynamic-list-of-posts/api/comments.json");case 5:return t.t2=t.sent,t.t3=(0,t.t1)(t.t2),t.t4=x,t.next=10,z("https://mate-academy.github.io/react_dynamic-list-of-posts/api/posts.json");case 10:return t.t5=t.sent,t.t6=(0,t.t4)(t.t5),t.t7=L,t.next=15,z("https://mate-academy.github.io/react_dynamic-list-of-posts/api/users.json");case 15:t.t8=t.sent,t.t9=(0,t.t7)(t.t8),t.t10=[t.t3,t.t6,t.t9],t.t0.all.call(t.t0,t.t10).then((function(){c(!0),b(!1)}));case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){!function(){var t=[];k.forEach((function(e){var n={post:Object(o.a)({},e),comments:O.filter((function(t){return t.postId===e.id})),user:Object(o.a)({},_.filter((function(t){return t.id===e.userId}))[0])};t.push(n)})),I(t)}()}),[n]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Dynamic list of posts"),r.a.createElement("input",{type:"text",onChange:function(t){A(t.target.value)}}),n&&!m?r.a.createElement("ul",null,D.filter((function(t){return!(!t.post.title.includes(F)&&!t.post.body.includes(F))})).map((function(t){return r.a.createElement(j,{key:t.post.id,preparedPost:t})}))):r.a.createElement(d,{loading:m,onLoadData:G}))};s.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.8ca27270.chunk.js.map