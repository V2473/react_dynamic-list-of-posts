(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],{14:function(t,e,n){t.exports=n(30)},20:function(t,e,n){},30:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(12),s=n.n(c),o=n(5),u=n(7),i=n(3),l=n.n(i),p=n(6),m=n(1),f=(n(20),n(13)),d=n.n(f),b=function(t){var e=t.loading,n=t.onLoadData;return r.a.createElement("button",{type:"button",disabled:e,onClick:n},e?"Loading":"Load")},j=function(t){var e=t.comment;return r.a.createElement("li",{key:e.id},e.name," - ",e.body," - ",e.email)},O=function(t){var e=t.preparedPost;return r.a.createElement("li",{key:e.post.id},e.post.title," - ",e.post.body," - ",e.user.name," ",e.user.email," ",e.user.address.city,r.a.createElement("ul",null,e.comments.map((function(t){return r.a.createElement(j,{key:t.id,comment:t})}))))},y=function(){var t=Object(a.useState)(!1),e=Object(m.a)(t,2),n=e[0],c=e[1],s=Object(a.useState)(!1),i=Object(m.a)(s,2),f=i[0],j=i[1],y=Object(a.useState)([]),h=Object(m.a)(y,2),E=h[0],v=h[1],g=Object(a.useState)([]),k=Object(m.a)(g,2),x=k[0],S=k[1],w=Object(a.useState)([]),_=Object(m.a)(w,2),L=_[0],P=_[1],C=Object(a.useState)([]),D=Object(m.a)(C,2),I=D[0],J=D[1],B=Object(a.useState)(""),F=Object(m.a)(B,2),q=F[0],z=F[1],A=function(){var t=Object(p.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e).then((function(t){return t.json()}));case 2:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),G=Object(a.useCallback)(d()(z,1e3),[]),H=function(){var t=Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),t.t0=Promise,t.next=4,A("https://mate-academy.github.io/react_dynamic-list-of-posts/api/comments.json");case 4:return t.t1=t.sent,t.next=7,A("https://mate-academy.github.io/react_dynamic-list-of-posts/api/posts.json");case 7:return t.t2=t.sent,t.next=10,A("https://mate-academy.github.io/react_dynamic-list-of-posts/api/users.json");case 10:t.t3=t.sent,t.t4=[t.t1,t.t2,t.t3],t.t0.all.call(t.t0,t.t4).then((function(t){v(Object(o.a)(t[0])),S(Object(o.a)(t[1])),P(Object(o.a)(t[2])),c(!0)}));case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){!function(){var t=[];x.forEach((function(e){var n={post:Object(u.a)({},e),comments:E.filter((function(t){return t.postId===e.id})),user:Object(u.a)({},L.filter((function(t){return t.id===e.userId}))[0])};t.push(n)})),J(t)}(),j(!1)}),[n]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Dynamic list of posts"),r.a.createElement("input",{type:"text",onChange:function(t){G(t.target.value)}}),n&&!f?r.a.createElement("ul",null,I.filter((function(t){return!(!t.post.title.includes(q)&&!t.post.body.includes(q))})).map((function(t){return r.a.createElement(O,{key:t.post.id,preparedPost:t})}))):r.a.createElement(b,{loading:f,onLoadData:H}))};s.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.b692e58f.chunk.js.map